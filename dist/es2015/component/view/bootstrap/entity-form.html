<template>
  <aurelia-form
    view-model.ref="form"
    behavior.bind="behavior"
    entity.bind="entity"
    classes.bind="classes"
    label-classes.bind="labelClasses"
    element-classes.bind="elementClasses"
    validated.bind="validated"
    button-options.bind="buttonOptions"
    button-label.bind="buttonLabel"
    button-enabled.bind="buttonEnabled"
  >
    <slot name="before"></slot>

    <form-group
      repeat.for="element of elements"
      show.bind="isVisible(element.field) && !element.meta.noRender"
      label.bind="element.meta.label || element.field"
      element.bind="element.element"
      name.bind="element.field"
      placeholder.bind="element.meta.placeholder || ''"
      autofocus.bind="element.meta.autofocus || false"
      disabled.bind="element.meta.disabled || false"
      readonly.bind="element.meta.readonly || false"
      required.bind="element.meta.required || false"
      type.bind="element.meta.type || 'text'"
      value.bind="entity[element.field]"
      options.bind="element.options"
    ></form-group>

    <slot name="after"></slot>
  </aurelia-form>
</template>
